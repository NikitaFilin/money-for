(this["webpackJsonpmoney-for-ts"]=this["webpackJsonpmoney-for-ts"]||[]).push([[0],[,,,,,function(e,c,t){},,,,function(e,c,t){},,,,,,function(e,c,t){},,function(e,c,t){},function(e,c,t){},function(e,c,t){"use strict";t.r(c);var n=t(1),r=t.n(n),s=t(10),i=t.n(s),a=(t(5),t(3)),d=t(8),u=t(2),o=(t(15),t(0)),l=function(e){var c=e.popUpViewUsers,t=e.setPopUpViewUsers,n=e.popUpViewProducts,r=e.setPopUpViewProducts;return Object(o.jsx)("nav",{children:Object(o.jsx)("div",{className:"nav-wrapper pink darken-3 cursor",children:Object(o.jsxs)("div",{className:"navBar-container-media navBar-container",children:[Object(o.jsxs)("div",{className:"navBar-container-icon",onClick:function(){return t(!c)},children:[Object(o.jsx)("i",{className:"material-icons right",children:"group_add"}),Object(o.jsx)("span",{children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"})]}),Object(o.jsxs)("div",{className:"navBar-container-icon",onClick:function(){return r(!n)},children:[Object(o.jsx)("i",{className:"material-icons right",children:"list"}),Object(o.jsx)("span",{children:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"})]})]})})})},p=function(e){var c=e.users,t=e.handleAddUser,r=e.handleRemoveUser,s=e.setPopUpView,i=Object(n.useState)(""),a=Object(u.a)(i,2),d=a[0],l=a[1],p=function(){if(d.length>0){l(d.trim());var e=Date.now();d.toLowerCase();var c=d[0].toUpperCase()+d.slice(1);t(e,c),l("")}},j=function(e){13===e&&p()};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"b-popup",onClick:function(e){return function(e){e.target!==e.currentTarget?s(!0):s(!1)}(e)},children:Object(o.jsx)("div",{className:"b-popup-content",children:c?Object(o.jsxs)("ul",{children:[c.length>0?c.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsxs)("div",{className:"popup-userName-line",children:[Object(o.jsx)("div",{className:"popup-userName-line-icons"}),Object(o.jsx)("div",{className:"popup-userName-line-userName",children:e.name}),Object(o.jsx)("div",{className:"popup-userName-line-icons",children:Object(o.jsx)("i",{className:"material-icons right",onClick:function(){return r(e.id)},children:"close"})})]})},e.id)})):Object(o.jsx)("div",{className:"popup-userName-null",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}),Object(o.jsxs)("div",{className:"popup-userName-line-add",children:[Object(o.jsx)("input",{placeholder:"\u041d\u043e\u0432\u044b\u0439 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a",value:d,onChange:function(e){return l(e.target.value)},onKeyUp:function(e){return j(e.keyCode)}}),Object(o.jsx)("button",{className:"waves-effect waves-light btn-small pink darken-3",onClick:function(){return p()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]}):Object(o.jsxs)("ul",{children:[Object(o.jsx)("div",{className:"popup-userName-null",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}),Object(o.jsxs)("div",{className:"popup-userName-line-add",children:[Object(o.jsx)("input",{placeholder:"\u041d\u043e\u0432\u044b\u0439 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a",value:d,onChange:function(e){return l(e.target.value)},onKeyUp:function(e){return j(e.keyCode)}}),Object(o.jsx)("button",{className:"waves-effect waves-light btn-small pink darken-3",onClick:function(){return p()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})})})})},j=function(e){var c=e.products,t=e.handleAddProduct,r=e.handleRemoveProduct,s=e.setPopUpViewProducts,i=Object(n.useState)(""),a=Object(u.a)(i,2),d=a[0],l=a[1],p=Object(n.useState)(0),j=Object(u.a)(p,2),b=j[0],h=j[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"b-popup",onClick:function(e){return function(e){e.target!==e.currentTarget?s(!0):s(!1)}(e)},children:Object(o.jsx)("div",{className:"b-popup-content",children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"popup-userName-line-add",children:[Object(o.jsx)("div",{className:"popup-product-Addline-name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(o.jsx)("div",{className:"popup-product-Addline-price",children:"\u0426\u0435\u043d\u0430"}),Object(o.jsx)("div",{className:"product-line",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 "})]})})}),null===c||void 0===c?void 0:c.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsxs)("div",{className:"popup-userName-line-add",children:[Object(o.jsx)("div",{className:"popup-product-Addline-name",children:e.name}),Object(o.jsxs)("div",{className:"popup-product-Addline-price",children:[e.price," \u20bd"]}),Object(o.jsx)("div",{className:"product-line",children:Object(o.jsx)("i",{className:"material-icons right",onClick:function(){return r(e.productId)},children:"delete_forever"})})]})},e.productId)})),Object(o.jsxs)("div",{className:"popup-userName-line-add",children:[Object(o.jsx)("div",{className:"popup-product-Addline-name",children:Object(o.jsx)("input",{type:"text",placeholder:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442",value:d,onChange:function(e){return l(e.target.value)}})}),Object(o.jsx)("div",{className:"popup-product-Addline-price",children:Object(o.jsx)("input",{type:"number",placeholder:"\u0426\u0435\u043d\u0430",value:b,onChange:function(e){return h(Number(e.target.value))}})}),Object(o.jsx)("button",{className:"waves-effect waves-light btn-small pink darken-3",onClick:function(){return function(){if(d.length>0&&b>0){l(d.trim());var e=d[0].toUpperCase()+d.slice(1),c={productId:Date.now(),name:e,price:b,personCost:0,userSelected:[]};t(c),l(""),h(0)}}()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),c?Object(o.jsxs)("li",{className:"popup-product-totalCost",children:["\u0418\u0442\u043e\u0433\u043e"," ",null===c||void 0===c?void 0:c.reduce((function(e,c){return e+Number(c.price)}),0)," ","\u20bd"]}):null]})})})})},b=(t(17),function(e){var c=e.products,t=e.setProducts,r=e.userId,s=e.productId,i=e.productName,d=e.personCost,l=e.handleUserProducts,p=Object(n.useState)(!1),j=Object(u.a)(p,2),b=j[0],h=j[1];return Object(n.useEffect)((function(){if(c){var e=c.map((function(e){var c=e.userSelected.length>1?Number((e.price/e.userSelected.length).toFixed()):e.price;return Object(a.a)(Object(a.a)({},e),{},{personCost:c})}));t(e)}}),[b]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"checkbox",checked:b,onChange:function(){l(r,s,!b),h(!b)}}),Object(o.jsx)("div",{children:i}),b?d!==1/0?Object(o.jsx)("div",{className:"checkbox-price",children:d}):Object(o.jsx)("div",{className:"checkbox-price",children:"0"}):Object(o.jsx)("div",{className:"checkbox-price"})]})}),h=(t(9),function(e){var c=e.user,t=e.products;return Object(o.jsxs)("span",{className:"user-card-container-footer",children:[Object(o.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e: "}),null===t||void 0===t?void 0:t.reduce((function(e,t){return t.userSelected.includes(Number(c.id))&&(e+=Number(t.personCost)),e}),0)," ","\u20bd"]})}),m=function(e){var c=e.users,t=e.products,n=e.handleUserProducts,r=e.setProducts;return Object(o.jsx)(o.Fragment,{children:null===c||void 0===c?void 0:c.map((function(e){return Object(o.jsxs)("div",{className:"user-card-container",children:[Object(o.jsx)("span",{className:"user-card-container-header",children:e.name}),Object(o.jsx)("div",{className:"user-card-line",children:null===t||void 0===t?void 0:t.map((function(c){return Object(o.jsx)("div",{className:"user-card",children:Object(o.jsx)(b,{userId:e.id,productId:c.productId,handleUserProducts:n,productName:c.name,personCost:c.personCost,products:t,setProducts:r})},c.productId)}))}),Object(o.jsx)(h,{user:e,products:t})]},e.id)}))})},O=(t(18),function(e){var c=e.users,t=e.products,n=e.handleUserProducts,r=e.setProducts;return Object(o.jsx)("div",{className:"calculation-container",children:Object(o.jsx)("div",{className:"content-container-wrapper",children:c?Object(o.jsx)("div",{className:"content-container-users",children:Object(o.jsx)(m,{users:c,products:t,handleUserProducts:n,setProducts:r})}):null})})}),v=function(){var e=Object(n.useState)(null),c=Object(u.a)(e,2),t=c[0],r=c[1],s=Object(n.useState)(null),i=Object(u.a)(s,2),b=i[0],h=i[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),x=v[0],f=v[1],N=Object(n.useState)(!1),g=Object(u.a)(N,2),P=g[0],U=g[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{popUpViewUsers:x,setPopUpViewUsers:f,popUpViewProducts:P,setPopUpViewProducts:U}),x?Object(o.jsx)(p,{users:t,handleAddUser:function(e,c){r(t?[].concat(Object(d.a)(t),[{id:e,name:c}]):[{id:e,name:c}])},handleRemoveUser:function(e){t&&r(t.filter((function(c){return c.id!==e}))),b&&h(b.map((function(c){var t;return Object(a.a)(Object(a.a)({},c),{},{userSelected:c.userSelected.filter((function(c){return c!==e})),personCost:c.price/((null===(t=c.userSelected)||void 0===t?void 0:t.length)-1)})})))},setPopUpView:f}):null,P?Object(o.jsx)(j,{products:b,handleAddProduct:function(e){h(b?[].concat(Object(d.a)(b),[e]):[e])},handleRemoveProduct:function(e){b&&h(b.filter((function(c){return c.productId!==e})))},setPopUpViewProducts:U}):null,Object(o.jsx)(O,{users:t,products:b,setProducts:h,handleUserProducts:function(e,c,t){b&&h(b.map((function(n){return n.productId===c?Object(a.a)(Object(a.a)({},n),{},{userSelected:t?n.userSelected.concat([e]):n.userSelected.filter((function(c){return c!==e}))}):n})))}})]})};i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.f5d3f1c2.chunk.js.map